#! /bin/bash 

figlet "H|dd3N UrL?! "

echo " ----------------======-----------------"

if [ $# -ne 0 ];
then
	# We need to run the script without any parameters 
	
	echo -e "\a\a\a\a\a[[-]]USAGE : ./$0  \n-----------------------------------------------\n"
else

# User can choose the option to do the extraction of hidden URL 	
	echo -e "[==] Choose the option to do the spidering : \n[+] 1 -> Spider from website \n[+] 2 -> Extract the sites from offline files[Example : index.html]\n[=] q to exit "
	# Read the user input
	read inp
	

# After taking the option from the user, Script need to work accordingly : 
	
	# If user press 1 we need to do the web spidering with curl
	if (( "$inp" == 1 ));
	then
	read -p '[+] Enter the url : ' url
	
	echo "start Spidering..." && sleep 1
	curl $url -L -i -s | tr '"' '\n' | tr "'" '\n' | grep -e '^https://' -e '^http://' -e'^//' -e '^*.*.*' | sort | uniq | tee -a $url.fae
	
	#If user press 2, we need to do the scrapping of url endpoints from file provided by the user.
	
	elif (( "$inp" == 2 ));
	then
	echo "Extracting url Endpoints from file..." && sleep 1
	echo "[+] Provide the path of the file to extract URL endpo1nts: "
	read fl
	cat $fl  | tr '"' '\n' | tr "'" '\n' | grep -e '^https://' -e '^http://' -e'^//' -e '^*.*.*' | sort | uniq | tee -a $fl.fae
	
	else 
	echo "BY3."
	exit 
	fi
echo -e "\n\n\n\ndone..............."
fi
